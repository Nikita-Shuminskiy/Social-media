{"version":3,"sources":["components/Navbar/Navbar.module.css","Redux/DialogReducer.ts","Api/Api.ts","Redux/UsersReducer.ts","reportWebVitals.ts","Redux/SideBar_Reducer.ts","Redux/App-reducer.ts","Redux/Redux_Store.ts","components/Navbar/Navbar.tsx","components/Settings/Settings.tsx","components/Common/Loader/Loader.tsx","App.tsx","index.tsx","Redux/Auth_Reducer.ts","img/user.png","Redux/ProfileReducer.ts"],"names":["module","exports","sendMessage","value","type","initialState","dialogs","name","id","v1","message","DialogReducer","state","action","body","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","res","data","followApi","post","unFollowApi","delete","userIdAPI","userId","profileAPI","updPhoto","image","formData","FormData","append","put","getStatus","updateStatus","status","updateProfileData","profile","authMeAPI","Me","login","logout","captcha","dataUsers","totalCount","isFetching","disabledInProgressUser","UsersReducer","map","u","followed","users","pageNumberCurrent","disFetching","idUser","filter","userDissableButton","setIsFetching","getUserThunk","dispatch","items","followThunk","response","resultCode","unfollowThunk","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","friendsPage","img","alt","initialized","rootReducer","combineReducers","ProfileReducer","sideBar","usersData","authMe","AuthReducer","form","formReducer","appReducer","store","createStore","applyMiddleware","ThunkMiddleware","window","NavBar","props","useSelector","profileUsers","photos","small","useDispatch","className","s","container","isAuth","loginBlock","to","src","Photos","variant","size","color","onClick","logoutThunk","navBarMenu","item","activeClassName","active","setting","Settings","Loader","style","position","left","DialogsContainer","React","lazy","UserContainer","ProfileContainer","Musick","LoginContainer","App","catchAllErrors","alert","this","initializeAppThunk","addEventListener","removeEventListener","Suspense","fallback","exact","path","render","component","Component","AppContainer","compose","connect","promise","getUserAutMeThunk","Promise","all","withRouter","GlobalAppComponent","ReactDOM","document","getElementById","email","payload","url","setUserDataAuthMe","loginThunk","messages","length","stopSubmit","_error","getCaptchaUrl","postData","likesCount","postNew","newMessage","f","addPost","setProfileStatus","deletePost","getUserProfileThunk","a","updProfileDataThunk","getState","Error","getStatusThunk","catch","updateStatusThunk","updatePhotoThunk","photo"],"mappings":"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","file":"static/js/main.535a6d63.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBarMenu\":\"Navbar_navBarMenu__RCt_Y\",\"loginHeader\":\"Navbar_loginHeader__1sJI_\",\"loginBlock\":\"Navbar_loginBlock__3SPrB\",\"container\":\"Navbar_container__Hm_Pm\",\"item\":\"Navbar_item__PM8mR\",\"active\":\"Navbar_active__1IlwC\"};","import { DialogPageType } from './React_Redux_StoreType/types/StateType';\r\nimport { ActionsTypes } from './Redux_Store';\r\nimport { v1 } from 'uuid';\r\n\r\n\r\nexport const sendMessage = (value: string) => ({type: 'DIALOG/SEND-MESSAGE', value} as const)\r\n\r\n\r\nlet initialState: DialogPageType = {\r\n    dialogs: [\r\n        {name: 'nick', id: v1(),},\r\n        {name: 'Leks', id: v1(),},\r\n        {name: 'Nastya', id: v1(),},\r\n        {name: 'Egor', id: v1(),},\r\n    ],\r\n    message: [\r\n        {message: 'как дела', id: v1(),},\r\n        {message: 'как дела', id: v1(),},\r\n        {message: 'как дела', id: v1(),},\r\n        {message: 'как дела', id: v1(),},\r\n    ]\r\n}\r\n\r\nexport function DialogReducer(state: DialogPageType = initialState, action: ActionsTypes): DialogPageType {\r\n    switch (action.type) {\r\n        case 'DIALOG/SEND-MESSAGE':\r\n            const body = action.value\r\n            return {\r\n                ...state,\r\n                message: [...state.message, {message: body, id: v1()}]\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n","import axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '978dde1d-b974-4ee1-a942-d32857675e96'},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<GetUserType>(`users?page=${currentPage}&count=${pageSize}`).then(res => {\r\n            return res.data\r\n        })\r\n    },\r\n    followApi(id: number) {\r\n        return instance.post(`follow/${id}`,)\r\n\r\n    },\r\n    unFollowApi(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    userIdAPI(userId:number) {\r\n        return  instance.get<ProfileType>( 'profile/' + userId).then(res => res.data)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    updPhoto(image:string) {\r\n        const formData = new FormData()\r\n        formData.append('image',image)\r\n        return instance.put<GeneralType<SavePhotoResponseDataType>>('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    getStatus(userId:number){\r\n        return instance.get( 'profile/status/' + userId)\r\n    },\r\n    updateStatus(status:string){\r\n        return instance.put<GeneralType>( 'profile/status', {status})\r\n    },\r\n    updateProfileData(profile:ProfileType){\r\n        return instance.put<GeneralType>( 'profile', profile).then(res => res.data)\r\n    }\r\n}\r\nexport const authMeAPI= {\r\n    Me() {\r\n        return instance.get<GeneralType<MeType>>(`auth/me`)\r\n    },\r\n    login( data:LoginUserDataType){\r\n        return instance.post<GeneralType<{userId:number}>>('auth/login', data)\r\n    },\r\n    logout(){\r\n        return instance.delete<GeneralType>('auth/login')\r\n    },\r\n    captcha(){\r\n        return instance.get<{url:string}>('security/get-captcha-url')\r\n    }\r\n}\r\n\r\n//types\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosProfileType\r\n}\r\nexport type LoginUserDataType = {\r\n    email:string\r\n    password: null | number\r\n    rememberMe:boolean\r\n    captcha:string | null\r\n}\r\nexport type PhotosProfileType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type ProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosProfileType\r\n    aboutMe: string\r\n}\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    status: string\r\n    photos: PhotosProfileType\r\n    followed: boolean\r\n}\r\nexport  type ApiUserType = {\r\n    name: string\r\n    id: number\r\n    uniqueUrlName: null | string\r\n    photos: PhotosProfileType\r\n    status: null | string\r\n    followed: boolean\r\n}\r\ntype GetUserType = {\r\n    items: Array<ApiUserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\ntype MeType = {\r\n    id: number\r\n    login: string\r\n    email: string\r\n}\r\ntype GeneralType<D = {}> = {\r\n    data: D\r\n    messages: Array<string>\r\n    fieldsErrors?: Array<string>\r\n    resultCode: number\r\n}\r\n\r\n","import { ApiUserType, usersAPI } from '../Api/Api'\r\nimport { ActionsTypes, AppDispatchType } from './Redux_Store'\r\n\r\n\r\n\r\ntype InitStateType = typeof initialState\r\n\r\nconst initialState = {\r\n    dataUsers:  [] as ApiUserType[],\r\n    totalCount: 10,\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    isFetching: false,\r\n    disabledInProgressUser: [] as Array<number>,\r\n}\r\n\r\n\r\nexport function UsersReducer(state = initialState, action: ActionsTypes): InitStateType {\r\n    switch (action.type) {\r\n        case 'USER/Follow':\r\n            return {\r\n                ...state,\r\n                dataUsers: state.dataUsers.map(u => u.id === action.userId ? {...u, followed: true} : u)\r\n            }\r\n        case 'USER/Un-Follow':\r\n            return {\r\n                ...state,\r\n                dataUsers: state.dataUsers.map(u => u.id === action.userId ? {...u, followed: false} : u)\r\n            }\r\n        case 'USER/Set-UsersContainerAPI':\r\n            return {...state, dataUsers: action.users}\r\n        case 'USER/CURRENT-PAGES':\r\n            return {...state, currentPage: action.pageNumberCurrent}\r\n\r\n        case 'USER/TOTAL-USER-COUNT':\r\n            return {...state, totalCount: action.totalCount}\r\n\r\n        case 'USER/Toggle is fetching':\r\n            return {...state, isFetching: action.isFetching}\r\n        case 'USER/TOGGLE-DISABLED-BUTTON-USER': {\r\n            return {\r\n                ...state,\r\n                //@ts-ignore\r\n                disabledInProgressUser: action.disFetching ? [...state.disabledInProgressUser, action.idUser] : [state.disabledInProgressUser.filter(id => id !== action.idUser)]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n//action\r\nexport const userDissableButton = (disFetching: boolean, idUser: number) => ({\r\n    type: 'USER/TOGGLE-DISABLED-BUTTON-USER',\r\n    disFetching,\r\n    idUser\r\n} as const)\r\nexport const follow = (userId: number) => ({type: 'USER/Follow', userId} as const)\r\nexport const unFollow = (userId: number) => ({type: 'USER/Un-Follow', userId} as const)\r\nexport const setUsers = (users: ApiUserType[]) => ({type: 'USER/Set-UsersContainerAPI', users} as const)\r\nexport const setCurrentPages = (pageNumberCurrent: number) => ({type: 'USER/CURRENT-PAGES', pageNumberCurrent} as const)\r\nexport const setTotalUserCount = (totalCount: number) => ({type: 'USER/TOTAL-USER-COUNT', totalCount} as const)\r\nexport const setIsFetching = (isFetching: boolean) => ({type: 'USER/Toggle is fetching', isFetching} as const)\r\n\r\n\r\n\r\n\r\n//thunk\r\nexport const getUserThunk = (currentPage: number, pageSize: number) => {\r\n    return (dispatch: AppDispatchType) => {\r\n        dispatch(setIsFetching(true))\r\n        usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n            dispatch(setIsFetching(false))\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUserCount(data.totalCount))\r\n            dispatch(setCurrentPages(currentPage))\r\n        })\r\n    }\r\n}\r\nexport const followThunk = (id: number) => {\r\n    return (dispatch: AppDispatchType) => {\r\n        dispatch(userDissableButton(true, id))\r\n        usersAPI.followApi(id).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(follow(id))\r\n            }\r\n            dispatch(userDissableButton(false, id))\r\n        })\r\n    }\r\n}\r\nexport const unfollowThunk = (id: number) => {\r\n    return (dispatch: AppDispatchType) => {\r\n        dispatch(userDissableButton(true, id))\r\n        usersAPI.unFollowApi(id).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(unFollow(id))\r\n            }\r\n            dispatch(userDissableButton(false, id))\r\n        })\r\n    }\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { SidBarType } from './React_Redux_StoreType/types/StateType';\r\n\r\nconst initialState:SidBarType = {\r\n    friendsPage: [\r\n        {img: 'https://mir-avatarok.3dn.ru/_si/0/92302704.jpg', name: 'Nastya', alt: 'qwq' , id:1},\r\n        {img: 'https://mir-avatarok.3dn.ru/_si/0/92302704.jpg', name: 'Vivaldi', alt: 'qwzxq' , id:2},\r\n        {img: 'https://mir-avatarok.3dn.ru/_si/0/92302704.jpg', name: 'Nana', alt: 'qwe' , id:3},\r\n    ]\r\n}\r\nexport const SideBarReducer = (state:SidBarType = initialState):SidBarType => {\r\n    return state\r\n};\r\n","import { ActionsTypes, AppDispatchType } from './Redux_Store'\r\nimport { getUserAutMeThunk } from './Auth_Reducer';\r\nimport { Dispatch } from 'redux';\r\n\r\n\r\ntype initType = {\r\n    initialized: boolean\r\n}\r\nconst initialState: initType = {\r\n    initialized: false\r\n}\r\n\r\nexport function AppReducer(state = initialState, action: ActionsTypes): initType {\r\n    switch (action.type) {\r\n        case 'APP/SET-INITIALIZED': {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: 'APP/SET-INITIALIZED'} as const)\r\n\r\nexport const initializeAppThunk = () => (dispatch: Dispatch) => {\r\n    // @ts-ignore\r\n    let promise = dispatch(getUserAutMeThunk())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { Action, applyMiddleware, combineReducers, createStore, Dispatch } from 'redux';\r\nimport { DialogReducer, sendMessage } from './DialogReducer';\r\nimport { addPost, deletePost, ProfileReducer, setProfileStatus, setProfileUser, updatePhoto } from './ProfileReducer';\r\nimport {\r\n    follow,\r\n    setCurrentPages,\r\n    setIsFetching,\r\n    setTotalUserCount,\r\n    setUsers,\r\n    unFollow,\r\n    userDissableButton,\r\n    UsersReducer\r\n} from './UsersReducer';\r\nimport { AuthReducer, captchaUrl, setUserDataAuthMe } from './Auth_Reducer';\r\nimport { SideBarReducer } from './SideBar_Reducer';\r\nimport ThunkMiddleware, { ThunkAction } from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport { AppReducer, initializedSuccess } from './App-reducer';\r\n\r\nexport type ActionsTypes =\r\n    | ReturnType<typeof addPost>\r\n    | ReturnType<typeof sendMessage>\r\n    | ReturnType<typeof follow>\r\n    | ReturnType<typeof unFollow>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPages>\r\n    | ReturnType<typeof setTotalUserCount>\r\n    | ReturnType<typeof setIsFetching>\r\n    | ReturnType<typeof setProfileUser>\r\n    | ReturnType<typeof setUserDataAuthMe>\r\n    | ReturnType<typeof userDissableButton>\r\n    | ReturnType<typeof setProfileStatus>\r\n    | ReturnType<typeof initializedSuccess>\r\n    | ReturnType<typeof deletePost>\r\n    | ReturnType<typeof updatePhoto>\r\n    | ReturnType<typeof captchaUrl>\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nexport type AppDispatchType = Dispatch<ActionsTypes>\r\n\r\nconst rootReducer = combineReducers({\r\n    dialogs: DialogReducer,\r\n    profile: ProfileReducer,\r\n    sideBar: SideBarReducer,\r\n    usersData: UsersReducer,\r\n    authMe: AuthReducer,\r\n    form: formReducer,\r\n    appReducer: AppReducer\r\n})\r\n\r\n// @ts-ignore\r\n/*const store = createStore(rootReducer, applyMiddleware(ThunkMiddleware) +  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);*/\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(ThunkMiddleware))\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport default store\r\n\r\n","import React from 'react';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport s from './Navbar.module.css'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../Redux/Redux_Store';\r\nimport { initialStateType, logoutThunk } from '../../Redux/Auth_Reducer';\r\nimport Button from '@material-ui/core/Button/Button';\r\nimport Photos from '../../img/user.png'\r\nimport Alert from '@material-ui/lab/Alert/Alert';\r\n\r\n\r\nexport type  NavBarType = {}\r\n\r\nconst NavBar = (props: NavBarType) => {\r\n    const authMe = useSelector<AppStateType, initialStateType>(state => state.authMe)\r\n    const img = useSelector<AppStateType, string | undefined>(state => state.profile?.profileUsers?.photos?.small)\r\n\r\n    const dispatch = useDispatch()\r\n    const logoutUser = () => {\r\n        dispatch(logoutThunk())\r\n    }\r\n    const loginUser = () => {\r\n        return <Redirect to={'login'}/>\r\n    }\r\n    return (\r\n        <div className={s.container}>\r\n            {authMe.isAuth ?\r\n                <div className={s.loginBlock}>\r\n                    <span>{authMe.login}</span>\r\n                    <NavLink to={'/profile'}>\r\n                        <img src={img ? img : Photos} alt=\"121\"/>\r\n                    </NavLink>\r\n                    <div>\r\n                        <Button variant=\"contained\" size={'small'} color=\"secondary\"\r\n                                onClick={logoutUser}>Logout</Button>\r\n\r\n                    </div>\r\n                </div>\r\n                :\r\n                <div>\r\n\r\n                    <Button variant=\"contained\" size={'small'} color=\"secondary\" onClick={loginUser}>Login</Button>\r\n                </div>\r\n            }\r\n            <div className={s.navBarMenu}>\r\n                <div className={`${s.item}`}><NavLink activeClassName={s.active} to={'/profile'}>Profile</NavLink></div>\r\n                <div className={`${s.item}`}><NavLink activeClassName={s.active} to={'/dialogs'}>Messege</NavLink></div>\r\n                <div className={s.item + ' ' + s.setting}><NavLink activeClassName={s.active}\r\n                                                                   to={'/users'}>Users</NavLink></div>\r\n                <div className={s.item}><NavLink activeClassName={s.active} to={'/news'}>News</NavLink></div>\r\n                <div className={s.item}><NavLink activeClassName={s.active} to={'/musick'}>Musick</NavLink></div>\r\n                <div className={s.item + ' ' + s.setting}><NavLink activeClassName={s.active}\r\n                                                                   to={'/setting'}>Setting</NavLink></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default NavBar\r\n\r\n\r\n","import React from 'react';\r\nimport s from'./Settings.module.css'\r\n\r\ntype SettingType = {\r\n\r\n}\r\n\r\nconst Settings: React.FC<SettingType> = (props) => {\r\n    return (\r\n       <div></div>\r\n    )\r\n}\r\n\r\nexport default Settings","import React from 'react';\r\nimport LoaderImg from '../../../img/1487.gif'\r\nimport CircularProgress from '@material-ui/core/CircularProgress/CircularProgress';\r\nexport type LoaderType = {\r\n\r\n}\r\n\r\nexport const Loader = (props:LoaderType) => {\r\n    return  <div style={{position: 'relative', left: '50%'}} ><CircularProgress/></div>\r\n};\r\n\r\nexport default Loader;","import React, { ComponentType } from 'react';\r\nimport './App.css'\r\nimport { BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter } from 'react-router-dom'\r\nimport { connect, Provider } from 'react-redux';\r\nimport store, { AppStateType } from './Redux/Redux_Store';\r\nimport { compose } from 'redux';\r\nimport { initializeAppThunk } from './Redux/App-reducer';\r\nimport NavBar from './components/Navbar/Navbar';\r\nimport Settings from './components/Settings/Settings';\r\nimport CircularProgress from '@material-ui/core/CircularProgress/CircularProgress';\r\nimport Loader from './components/Common/Loader/Loader';\r\n\r\n\r\nconst DialogsContainer = React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\r\nconst UserContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst Musick = React.lazy(() => import( './components/Musick/Musick'))\r\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer'))\r\n\r\ntype AppPropsType = {\r\n    initializeAppThunk: () => void\r\n    initialized: boolean\r\n}\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n    catchAllErrors = ( () => {\r\n        alert('Errors Global')\r\n    })\r\n    componentDidMount() {\r\n        this.props.initializeAppThunk()\r\n        window.addEventListener('unhandledrejection', this.catchAllErrors)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Loader/>\r\n        }\r\n\r\n\r\n        return (\r\n            <div className={'app-wrapper'}>\r\n                <NavBar/>\r\n                <div className={'app-wrapper-content'}>\r\n                    <React.Suspense fallback={<CircularProgress/>}>\r\n                        <Switch>\r\n                            <Route exact path={'/'} render={() => <Redirect to={'/profile'}/>}/>\r\n                            <Route path={'/profile/:userId?'} component={ProfileContainer}/>\r\n                            <Route path={'/dialogs'} component={DialogsContainer}/>\r\n                            <Route path={'/users'} component={UserContainer}/>\r\n                            <Route path={'/login'} component={LoginContainer}/>\r\n                            <Route path={'/musick'} component={Musick}/>\r\n                            <Route path={'*'} render={() => <div>404 not found</div>}/>\r\n                        </Switch>\r\n                    </React.Suspense>\r\n                </div>\r\n                <Settings/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.appReducer.initialized\r\n})\r\n\r\nconst AppContainer = compose<ComponentType>\r\n(connect(mapStateToProps,\r\n    {initializeAppThunk}),\r\n    withRouter)(App)\r\n\r\nconst GlobalAppComponent = () => {\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n}\r\nexport default GlobalAppComponent","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport GlobalAppComponent from './App';\n\n\nReactDOM.render(<GlobalAppComponent/>, document.getElementById('root')\n);\n\nreportWebVitals();\n\n","import { authMeAPI, LoginUserDataType } from '../Api/Api'\r\nimport { ActionsTypes } from './Redux_Store'\r\nimport { stopSubmit } from 'redux-form';\r\nimport { Dispatch } from 'redux';\r\n\r\n\r\n\r\nconst initialState = {\r\n    id: null as (number | null),\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    captcha: null as string | null,\r\n    isAuth: false\r\n}\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nexport function AuthReducer(state = initialState, action: ActionsTypes): initialStateType {\r\n\r\n    switch (action.type) {\r\n        case 'AUTH/SET-USER-DATA': {\r\n            return {...state, ...action.payload}\r\n        }\r\n        case 'AUTH/GET-CAPTCHA-URL':{\r\n            return {...state, captcha: action.url}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUserDataAuthMe = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: 'AUTH/SET-USER-DATA', payload: {id: userId, email, login, isAuth}\r\n} as const)\r\n\r\nexport const captchaUrl = (url: string) => ({type: 'AUTH/GET-CAPTCHA-URL',  url} as const)\r\n\r\nexport const getUserAutMeThunk = () => (dispatch: Dispatch) => {\r\n    return authMeAPI.Me().then(response => {\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserDataAuthMe(response.data.data.id, response.data.data.email, response.data.data.login, true))\r\n        }\r\n    })\r\n}\r\n\r\nexport const loginThunk = (data:LoginUserDataType) => {\r\n    return (dispatch: Dispatch) => {\r\n        authMeAPI.login(data)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    // @ts-ignore\r\n                    dispatch(getUserAutMeThunk())\r\n                }  else if (response.data.resultCode === 10) {\r\n                    // @ts-ignore\r\n                    dispatch(getCaptchaUrl())\r\n                } else {\r\n                    const messages = response.data.messages.length > 0 ? response.data.messages[0] : 'some error'\r\n                    return dispatch(stopSubmit('login', {_error: messages}))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n/*export const getCaptchaUrl = () => async (dispatch:Dispatch) => {\r\n    const response = await  authMeAPI.captcha()\r\n    const captcha = response.data.url;\r\n    dispatch(captchaUrl(captcha));\r\n}*/\r\n\r\nexport const getCaptchaUrl = () => {\r\n    return (dispatch: Dispatch) => {\r\n        authMeAPI.captcha()\r\n            .then(response => {\r\n                dispatch(captchaUrl(response.data.url))\r\n            })\r\n    }\r\n}\r\n\r\nexport const logoutThunk = () => {\r\n    return (dispatch: Dispatch) => {\r\n        authMeAPI.logout()\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setUserDataAuthMe(null, null, null, false))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/user.a6143582.png\";","import { PhotosProfileType, profileAPI, ProfileType, usersAPI } from '../Api/Api';\r\nimport { ActionsTypes, BaseThunkType, InferActionsTypes } from './Redux_Store';\r\nimport { v1 } from 'uuid';\r\nimport { Dispatch } from 'redux';\r\nimport { FormAction } from 'redux-form';\r\nimport { PostType } from './React_Redux_StoreType/types/StateType';\r\n\r\n\r\nconst initialState = {\r\n    postData: [\r\n        {\r\n            id: '1',\r\n            message: 'hello how are you',\r\n            likesCount: 12,\r\n            img: '',\r\n        },\r\n    ] as PostType[],\r\n    profileUsers: null as unknown as ProfileType,\r\n    status: '',\r\n}\r\nexport type InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<ActionsTypes>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\r\n\r\n\r\nexport function ProfileReducer(state = initialState, action: ActionsTypes): InitialStateType {\r\n    switch (action.type) {\r\n        case 'PROFILE/ADD-POST':\r\n            const postNew = {\r\n                id: v1(),\r\n                message: action.newMessage,\r\n                likesCount: 0,\r\n                img: state.profileUsers?.photos?.small\r\n            }\r\n            return {...state, postData: [postNew,...state.postData]}\r\n\r\n        case 'PROFILE/SET-PROFILE-USER':\r\n            return {...state, profileUsers: action.profile}\r\n\r\n        case 'PROFILE/SET-PROFILE-STATUS':\r\n            return {...state, status: action.status}\r\n\r\n        case 'PROFILE/DEL-POST-PROFILE':\r\n            return {...state, postData: state.postData.filter((f) => f.id !== action.id)}\r\n\r\n        case 'PROFILE/UPDATE-PHOTO-USER':\r\n            return {...state, profileUsers: {...state.profileUsers, photos: action.photos} as ProfileType}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (newMessage: string) => ({type: 'PROFILE/ADD-POST', newMessage} as const)\r\n\r\nexport const setProfileUser = (profile: ProfileType) => ({type: 'PROFILE/SET-PROFILE-USER', profile} as const)\r\n\r\nexport const setProfileStatus = (status: string) => ({type: 'PROFILE/SET-PROFILE-STATUS', status} as const)\r\n\r\nexport const deletePost = (id: string) => ({type: 'PROFILE/DEL-POST-PROFILE', id} as const)\r\n\r\nexport const updatePhoto = (photos: PhotosProfileType) => ({type: 'PROFILE/UPDATE-PHOTO-USER', photos} as const)\r\n\r\n\r\nexport const getUserProfileThunk = (userId: number): ThunkType => async (dispatch) => {\r\n    const data = await usersAPI.userIdAPI(userId)\r\n    dispatch(setProfileUser(data))\r\n}\r\nexport const updProfileDataThunk = (profile: ProfileType): ThunkType => async (dispatch, getState) => {\r\n    const userId = getState().authMe.id\r\n    const data = await profileAPI.updateProfileData(profile)\r\n    if (data.resultCode === 0) {\r\n        if (userId != null) {\r\n            dispatch(getUserProfileThunk(userId))\r\n        } else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        alert('error upd user')\r\n    }\r\n}\r\nexport const getStatusThunk = (userId: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.getStatus(userId)\r\n            .then(response => {\r\n                    dispatch(setProfileStatus(response.data))\r\n            }).catch( () => {\r\n                alert('err status')\r\n        })\r\n    }\r\n}\r\nexport const updateStatusThunk = (status: string) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.updateStatus(status)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setProfileStatus(status))\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const updatePhotoThunk = (photo:string) => async (dispatch:Dispatch) => {\r\n   let res = await profileAPI.updPhoto(photo)\r\n            if (res.data.resultCode === 0) {\r\n                dispatch(updatePhoto(res.data.data.photos))\r\n            } else{\r\n                alert(res.data.messages)\r\n            }\r\n}"],"sourceRoot":""}