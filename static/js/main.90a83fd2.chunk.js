(this["webpackJsonpreact-samyrai"]=this["webpackJsonpreact-samyrai"]||[]).push([[2],{116:function(t,e,n){},19:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return f}));var a=n(3),r=n(6),i=n(41),c={id:null,email:null,login:null,captcha:null,isAuth:!1};function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH/SET-USER-DATA":return Object(a.a)(Object(a.a)({},t),e.payload);case"AUTH/GET-CAPTCHA-URL":return Object(a.a)(Object(a.a)({},t),{},{captcha:e.url});default:return t}}var u=function(t,e,n,a){return{type:"AUTH/SET-USER-DATA",payload:{id:t,email:e,login:n,isAuth:a}}},s=function(){return function(t){return r.a.Me().then((function(e){0===e.data.resultCode&&t(u(e.data.data.id,e.data.data.email,e.data.data.login,!0))}))}},l=function(t){return function(e){r.a.login(t).then((function(t){if(0===t.data.resultCode)e(s());else{if(10!==t.data.resultCode){var n=t.data.messages.length>0?t.data.messages[0]:"some error";return e(Object(i.a)("login",{_error:n}))}e(d())}}))}},d=function(){return function(t){r.a.captcha().then((function(e){t({type:"AUTH/GET-CAPTCHA-URL",url:e.data.url})}))}},f=function(){return function(t){r.a.logout().then((function(e){0===e.data.resultCode&&t(u(null,null,null,!1))}))}}},214:function(t,e,n){"use strict";n.r(e);var a=n(27),r=n.n(a),i=n(0),c=n.n(i),o=function(t){t&&t instanceof Function&&n.e(10).then(n.bind(null,324)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))},u=n(46),s=n(47),l=n(49),d=n(48),f=(n(116),n(4)),b=n(10),j=n(17),O=n(21),h=n(53),p=n(51),g=n(62),m=n(19),v={friendsPage:[{img:"https://mir-avatarok.3dn.ru/_si/0/92302704.jpg",name:"Nastya",alt:"qwq",id:1},{img:"https://mir-avatarok.3dn.ru/_si/0/92302704.jpg",name:"Vivaldi",alt:"qwzxq",id:2},{img:"https://mir-avatarok.3dn.ru/_si/0/92302704.jpg",name:"Nana",alt:"qwe",id:3}]},E=n(75),U=n(73),S=n(3),P={initialized:!1};var T=Object(O.b)({dialogs:h.a,profile:p.a,sideBar:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return t},usersData:g.a,authMe:m.a,form:U.a,appReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-INITIALIZED":return Object(S.a)(Object(S.a)({},t),{},{initialized:!0});default:return t}}}),A=Object(O.d)(T,Object(O.a)(E.a));window.store=A;var R=A,x=n(40),I=n(5),w=n.n(I),C=n(2),y=function(t){var e=Object(j.d)((function(t){return t.authMe})),n=Object(j.c)(),a=Object(f.g)();return Object(C.jsxs)("div",{className:w.a.container,children:[Object(C.jsx)("div",{className:w.a.loginBlock,children:e.isAuth?Object(C.jsxs)("div",{children:[e.login,Object(C.jsx)("button",{onClick:function(){n(Object(m.d)())},children:"Logout"})]}):Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(){a.push("/login")},children:"Login"})})}),Object(C.jsx)("div",{className:"".concat(w.a.item),children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/profile",children:"Profile"})}),Object(C.jsx)("div",{className:"".concat(w.a.item),children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/dialogs",children:"Messege"})}),Object(C.jsx)("div",{className:w.a.item+" "+w.a.setting,children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/users",children:"Users"})}),Object(C.jsx)("div",{className:w.a.item,children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/news",children:"News"})}),Object(C.jsx)("div",{className:w.a.item,children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/musick",children:"Musick"})}),Object(C.jsx)("div",{className:w.a.item+" "+w.a.setting,children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/setting",children:"Setting"})}),Object(C.jsx)("div",{className:w.a.item+" "+w.a.setting,children:Object(C.jsx)(b.b,{activeClassName:w.a.active,to:"/login",children:"Login"})})]})},L=function(t){return Object(C.jsx)("div",{})},N=c.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,338))})),F=c.a.lazy((function(){return n.e(6).then(n.bind(null,340))})),D=c.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,337))})),k=c.a.lazy((function(){return n.e(8).then(n.bind(null,334))})),_=c.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,342))})),z=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).catchAllErrors=function(){alert("Errors Global")},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppThunk(),window.addEventListener("unhandledrejection",this.catchAllErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllErrors)}},{key:"render",value:function(){return this.props.initialized?Object(C.jsxs)("div",{className:"app-wrapper",children:[Object(C.jsx)(y,{}),Object(C.jsx)("div",{className:"app-wrapper-content",children:Object(C.jsx)(c.a.Suspense,{fallback:Object(C.jsx)(x.a,{}),children:Object(C.jsxs)(f.d,{children:[Object(C.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(C.jsx)(f.a,{to:"/profile"})}}),Object(C.jsx)(f.b,{path:"/profile/:userId?",component:D}),Object(C.jsx)(f.b,{path:"/dialogs",component:N}),Object(C.jsx)(f.b,{path:"/users",component:F}),Object(C.jsx)(f.b,{path:"/login",component:_}),Object(C.jsx)(f.b,{path:"/musick",component:k}),Object(C.jsx)(f.b,{path:"*",render:function(){return Object(C.jsx)("div",{children:"404 not found"})}})]})})}),Object(C.jsx)(L,{})]}):Object(C.jsx)(x.a,{})}}]),n}(c.a.Component),G=Object(O.c)(Object(j.b)((function(t){return{initialized:t.appReducer.initialized}}),{initializeAppThunk:function(){return function(t){var e=t(Object(m.b)());Promise.all([e]).then((function(){t({type:"APP/SET-INITIALIZED"})}))}}}),f.h)(z),M=function(){return Object(C.jsx)(b.a,{children:Object(C.jsx)(j.a,{store:R,children:Object(C.jsx)(G,{})})})};r.a.render(Object(C.jsx)(M,{}),document.getElementById("root")),o()},40:function(t,e,n){"use strict";n(0);var a=n.p+"static/media/1487.707b7930.gif",r=n(2);e.a=function(t){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{style:{width:"100px"},src:a,alt:"Lodding"})})}},5:function(t,e,n){t.exports={nav:"Navbar_nav__1btus",container:"Navbar_container__Hm_Pm",item:"Navbar_item__PM8mR",active:"Navbar_active__1IlwC",setting:"Navbar_setting__3wexh"}},51:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return O})),n.d(e,"h",(function(){return h})),n.d(e,"g",(function(){return p}));var a=n(20),r=n(3),i=n(6),c=n(11),o={postData:[{id:"1",message:"hello how are you",likesCount:12,img:""}],profileUsers:{aboutMe:"",contacts:{facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""},lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",userId:0,photos:{small:"",large:""}},status:""};function u(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case"PROFILE/ADD-POST":var u={id:Object(c.a)(),message:i.newMessage,likesCount:0,img:null===(t=n.profileUsers)||void 0===t||null===(e=t.photos)||void 0===e?void 0:e.small};return Object(r.a)(Object(r.a)({},n),{},{postData:[u].concat(Object(a.a)(n.postData))});case"PROFILE/SET-PROFILE-USER":return Object(r.a)(Object(r.a)({},n),{},{profileUsers:i.profile});case"PROFILE/SET-PROFILE-STATUS":return Object(r.a)(Object(r.a)({},n),{},{status:i.status});case"PROFILE/DEL-POST-PROFILE":return Object(r.a)(Object(r.a)({},n),{},{postData:n.postData.filter((function(t){return t.id!==i.id}))});case"PROFILE/UPDATE-PHOTO-USER":return Object(r.a)(Object(r.a)({},n),{},{profileUsers:Object(r.a)(Object(r.a)({},n.profileUsers),{},{photos:i.photo})});default:return n}}var s=function(t){return{type:"PROFILE/ADD-POST",newMessage:t}},l=function(t){return{type:"PROFILE/SET-PROFILE-USER",profile:t}},d=function(t){return{type:"PROFILE/SET-PROFILE-STATUS",status:t}},f=function(t){return{type:"PROFILE/DEL-POST-PROFILE",id:t}},b=function(t){return function(e){i.c.userIdAPI(t).then((function(t){e(l(t.data))}))}},j=function(t){return function(e){i.b.updateProfileData(t).then((function(t){0===t.resultCode&&e(l(t.data))}))}},O=function(t){return function(e){i.b.getStatus(t).then((function(t){e(d(t.data))})).catch((function(){alert("err status")}))}},h=function(t){return function(e){i.b.updateStatus(t).then((function(n){0===n.data.resultCode&&e(d(t))}))}},p=function(t){return function(e){i.b.updPhoto(t).then((function(t){0===t.data.resultCode&&e(function(t){return{type:"PROFILE/UPDATE-PHOTO-USER",photo:t}}(t.data.data.photos))})).catch((function(t){alert(t.data.message)}))}}},53:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var a=n(20),r=n(3),i=n(11),c=function(t){return{type:"DIALOG/SEND-MESSAGE",value:t}},o={dialogs:[{name:"nick",id:Object(i.a)()},{name:"Leks",id:Object(i.a)()},{name:"Nastya",id:Object(i.a)()},{name:"Egor",id:Object(i.a)()}],message:[{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()},{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()},{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()},{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()}]};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DIALOG/SEND-MESSAGE":var n=e.value;return Object(r.a)(Object(r.a)({},t),{},{message:[].concat(Object(a.a)(t.message),[{message:n,id:Object(i.a)()}])});default:return t}}},6:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o}));var a=n(74),r=n.n(a).a.create({withCredentials:!0,headers:{"API-KEY":"978dde1d-b974-4ee1-a942-d32857675e96"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),i={getUsers:function(t,e){return r.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},followApi:function(t){return r.post("follow/".concat(t))},unFollowApi:function(t){return r.delete("follow/".concat(t))},userIdAPI:function(t){return r.get("profile/"+t)}},c={updPhoto:function(t){var e=new FormData;return e.append("image",t),r.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})},getStatus:function(t){return r.get("profile/status/"+t)},updateStatus:function(t){return r.put("profile/status",{status:t})},updateProfileData:function(t){return r.put("profile",t).then((function(t){return t.data}))}},o={Me:function(){return r.get("auth/me")},login:function(t){return r.post("auth/login",t)},logout:function(){return r.delete("auth/login")},captcha:function(){return r.get("security/get-captcha-url")}}},62:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return f}));var a=n(20),r=n(3),i=n(6),c={dataUsers:[],totalCount:10,currentPage:1,pageSize:10,isFetching:!1,disabledInProgressUser:[]};function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"USER/Follow":return Object(r.a)(Object(r.a)({},t),{},{dataUsers:t.dataUsers.map((function(t){return t.id===e.userId?Object(r.a)(Object(r.a)({},t),{},{followed:!0}):t}))});case"USER/Un-Follow":return Object(r.a)(Object(r.a)({},t),{},{dataUsers:t.dataUsers.map((function(t){return t.id===e.userId?Object(r.a)(Object(r.a)({},t),{},{followed:!1}):t}))});case"USER/Set-UsersContainerAPI":return Object(r.a)(Object(r.a)({},t),{},{dataUsers:e.users});case"USER/CURRENT-PAGES":return Object(r.a)(Object(r.a)({},t),{},{currentPage:e.pageNumberCurrent});case"USER/TOTAL-USER-COUNT":return Object(r.a)(Object(r.a)({},t),{},{totalCount:e.totalCount});case"USER/Toggle is fetching":return Object(r.a)(Object(r.a)({},t),{},{isFetching:e.isFetching});case"USER/TOGGLE-DISABLED-BUTTON-USER":return Object(r.a)(Object(r.a)({},t),{},{disabledInProgressUser:e.disFetching?[].concat(Object(a.a)(t.disabledInProgressUser),[e.idUser]):[t.disabledInProgressUser.filter((function(t){return t!==e.idUser}))]});default:return t}}var u=function(t,e){return{type:"USER/TOGGLE-DISABLED-BUTTON-USER",disFetching:t,idUser:e}},s=function(t){return{type:"USER/Toggle is fetching",isFetching:t}},l=function(t,e){return function(n){n(s(!0)),i.c.getUsers(t,e).then((function(e){n(s(!1)),n({type:"USER/Set-UsersContainerAPI",users:e.items}),n({type:"USER/TOTAL-USER-COUNT",totalCount:e.totalCount}),n({type:"USER/CURRENT-PAGES",pageNumberCurrent:t})}))}},d=function(t){return function(e){e(u(!0,t)),i.c.followApi(t).then((function(n){0===n.data.resultCode&&e({type:"USER/Follow",userId:t}),e(u(!1,t))}))}},f=function(t){return function(e){e(u(!0,t)),i.c.unFollowApi(t).then((function(n){0===n.data.resultCode&&e({type:"USER/Un-Follow",userId:t}),e(u(!1,t))}))}}}},[[214,3,4]]]);
//# sourceMappingURL=main.90a83fd2.chunk.js.map