(this["webpackJsonpreact-samyrai"]=this["webpackJsonpreact-samyrai"]||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return j}));var a=n(37),r=n(5),i=n(18),c={dataUsers:[],totalCount:10,currentPage:1,pageSize:10,isFetching:!1,disabledInProgressUser:[]};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/Follow":return Object(r.a)(Object(r.a)({},e),{},{dataUsers:e.dataUsers.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"USER/Un-Follow":return Object(r.a)(Object(r.a)({},e),{},{dataUsers:e.dataUsers.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"USER/Set-UsersContainerAPI":return Object(r.a)(Object(r.a)({},e),{},{dataUsers:t.users});case"USER/CURRENT-PAGES":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.pageNumberCurrent});case"USER/TOTAL-USER-COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalCount:t.totalCount});case"USER/Toggle is fetching":return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case"USER/TOGGLE-DISABLED-BUTTON-USER":return Object(r.a)(Object(r.a)({},e),{},{disabledInProgressUser:t.disFetching?[].concat(Object(a.a)(e.disabledInProgressUser),[t.idUser]):[e.disabledInProgressUser.filter((function(e){return e!==t.idUser}))]});default:return e}}var o=function(e,t){return{type:"USER/TOGGLE-DISABLED-BUTTON-USER",disFetching:e,idUser:t}},u=function(e){return{type:"USER/Toggle is fetching",isFetching:e}},l=function(e,t){return function(n){n(u(!0)),i.c.getUsers(e,t).then((function(t){n(u(!1)),n({type:"USER/Set-UsersContainerAPI",users:t.items}),n({type:"USER/TOTAL-USER-COUNT",totalCount:t.totalCount}),n({type:"USER/CURRENT-PAGES",pageNumberCurrent:e})}))}},d=function(e){return function(t){t(o(!0,e)),i.c.followApi(e).then((function(n){0===n.data.resultCode&&t({type:"USER/Follow",userId:e}),t(o(!1,e))}))}},j=function(e){return function(t){t(o(!0,e)),i.c.unFollowApi(e).then((function(n){0===n.data.resultCode&&t({type:"USER/Un-Follow",userId:e}),t(o(!1,e))}))}}},11:function(e,t,n){e.exports={nav:"Navbar_nav__1btus",item:"Navbar_item__PM8mR",active:"Navbar_active__1IlwC",setting:"Navbar_setting__3wexh"}},130:function(e,t,n){e.exports={errorForm:"LoginForm_errorForm__3lS6X"}},161:function(e,t,n){},18:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var a=n(127),r=n.n(a).a.create({withCredentials:!0,headers:{"API-KEY":"978dde1d-b974-4ee1-a942-d32857675e96"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),i={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followApi:function(e){return r.post("follow/".concat(e))},unFollowApi:function(e){return r.delete("follow/".concat(e))},userIdAPI:function(e){return r.get("profile/"+e)}},c={getProfile:function(e){return console.warn("Obsolete method.Please profileAPI object"),i.userIdAPI(e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})}},s={Me:function(){return r.get("auth/me")},login:function(e,t,n){return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},284:function(e,t,n){"use strict";n.r(t);var a=n(61),r=n.n(a),i=n(0),c=n.n(i),s=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,295)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))},o=n(48),u=n(49),l=n(52),d=n(51),j=(n(161),n(9)),b=n(20),h=n(15),f=n(10),O=n(93),m=n(91),p=n(102),g=n(5),v=n(18),x=n(50),S={data:{id:NaN,email:"",login:""},isAuth:!1};var E=function(e,t){return{type:"AUTH/SET-USER-DATA",payload:e,isAuth:t}},U=function(){return function(e){return v.a.Me().then((function(t){0===t.data.resultCode&&e(E(t.data,!0))}))}},_={friendsPage:[{img:"https://mir-avatarok.3dn.ru/_si/0/92302704.jpg",name:"Nastya",alt:"qwq",id:1},{img:"https://mir-avatarok.3dn.ru/_si/0/92302704.jpg",name:"Vivaldi",alt:"qwzxq",id:2},{img:"https://mir-avatarok.3dn.ru/_si/0/92302704.jpg",name:"Nana",alt:"qwe",id:3}]},N=n(128),T=n(126),A={initialized:!1};var I=Object(f.c)({dialogs:O.a,profile:m.a,sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return e},usersData:p.a,authMe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-USER-DATA":return Object(g.a)(Object(g.a)(Object(g.a)({},e),t.payload),{},{isAuth:t.isAuth});default:return e}},form:T.a,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-INITIALIZED":return Object(g.a)(Object(g.a)({},e),{},{initialized:!0});default:return e}}}),k=Object(f.e)(I,Object(f.a)(N.a));window.store=k;var w=k,P=n(85),R=n(124),y=n(125),C=n(62),F=n(82),L=n(130),D=n.n(L),M=n(1),B=Object(C.a)(30),z=Object(y.a)({form:"login"})((function(e){return Object(M.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(M.jsx)("div",{children:Object(M.jsx)(R.a,{validate:[C.b,B],placeholder:"Login",name:"login",component:F.a,children:"input"})}),Object(M.jsx)("div",{children:Object(M.jsx)(R.a,{validate:[C.b,B],placeholder:"Password",name:"password",component:F.a,type:"password",children:"input"})}),Object(M.jsxs)("div",{children:[Object(M.jsx)(R.a,{name:"rememberMe",component:"input",type:"checkBox"}),Object(M.jsx)("span",{children:"Remember Me"})]}),Object(M.jsx)("button",{children:"Send"}),e.error&&Object(M.jsx)("div",{className:D.a.errorForm,children:e.error})]})})),H=Object(h.b)((function(e){return{isAuth:e.authMe.isAuth}}),{loginThunk:function(e,t,n){return function(a){v.a.login(e,t,n).then((function(e){if(0!==e.data.resultCode){var t=e.data.messages.length>0?e.data.messages[0]:"some error";return a(Object(x.a)("login",{_error:t}))}a(U())}))}}})((function(e){var t=e.loginThunk;return e.isAuth?Object(M.jsx)(j.a,{to:"/profile"}):Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Login"}),Object(M.jsx)(z,{onSubmit:function(e){t(e.login,e.password,e.rememberMe)}})]})})),G=n(38),q=n.n(G),J=function(e){return Object(M.jsxs)("header",{className:q.a.header,children:[Object(M.jsx)("img",{className:q.a.img,src:"https://st4.depositphotos.com/9449108/25247/i/600/depositphotos_252470670-stock-photo-illustration-of-a-japanese-warrior.jpg"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:q.a.loginBlock,children:e.isAuth?Object(M.jsxs)("div",{children:[e.login," ",Object(M.jsx)("button",{onClick:e.logoutThunk,children:"Logout"})]}):Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:e.logoutThunk,children:"Logout"})," "]})}),Object(M.jsx)("input",{className:q.a.search,type:"text"}),Object(M.jsx)("button",{onClick:function(e){return alert(e.pageX)},className:q.a.button_s,children:"Search"})]})]})},V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(M.jsx)(J,{isAuth:this.props.isAuth,login:this.props.login,logoutThunk:this.props.logoutThunk})}}]),n}(c.a.Component),X=Object(h.b)((function(e){return{login:e.authMe.data.login,isAuth:e.authMe.isAuth}}),{logoutThunk:function(){return function(e){v.a.logout().then((function(t){0===t.data.resultCode&&e(E(null,!1))}))}}})(V),Z=n(11),K=n.n(Z),Q=n(67),Y=n.n(Q),W=function(e){return Object(M.jsxs)("div",{className:Y.a.img_avatar,children:[Object(M.jsx)("img",{src:e.img,className:Y.a.img_avatar,alt:e.alt}),Object(M.jsx)("p",{className:Y.a.name,children:e.name})]})},$=function(e){var t=e.friendsPage.friendsPage.map((function(e){return Object(M.jsx)(W,{img:e.img,alt:e.alt,name:e.name},e.id)}));return Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:"Friends"}),t]})},ee=Object(h.b)((function(e){return{friendsPage:e.sideBar}}),(function(e){return{}}))($),te=function(){return Object(M.jsxs)("nav",{className:K.a.nav,children:[Object(M.jsx)("div",{className:"".concat(K.a.item),children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/profile",children:"Profile"})}),Object(M.jsx)("div",{className:"".concat(K.a.item),children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/dialogs",children:"Messege"})}),Object(M.jsx)("div",{className:K.a.item,children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/news",children:"News"})}),Object(M.jsx)("div",{className:K.a.item,children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/musick",children:"Musick"})}),Object(M.jsx)("div",{className:K.a.item+" "+K.a.setting,children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/setting",children:"Setting"})}),Object(M.jsx)("div",{className:K.a.item+" "+K.a.setting,children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/users",children:"Users"})}),Object(M.jsx)("div",{className:K.a.item+" "+K.a.setting,children:Object(M.jsx)(b.b,{activeClassName:K.a.active,to:"/login",children:"Login"})}),Object(M.jsx)(ee,{})]})},ne=function(e){return Object(M.jsx)("div",{})},ae=c.a.lazy((function(){return n.e(5).then(n.bind(null,299))})),re=c.a.lazy((function(){return n.e(4).then(n.bind(null,298))})),ie=c.a.lazy((function(){return n.e(3).then(n.bind(null,297))})),ce=c.a.lazy((function(){return n.e(6).then(n.bind(null,296))})),se=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeThunk()}},{key:"render",value:function(){return this.props.initialized?Object(M.jsxs)("div",{className:"app-wrapper",children:[Object(M.jsx)(X,{}),Object(M.jsx)(te,{}),Object(M.jsx)("div",{className:"app-wrapper-content",children:Object(M.jsx)(c.a.Suspense,{fallback:Object(M.jsx)(P.a,{}),children:Object(M.jsxs)(j.d,{children:[Object(M.jsx)(j.b,{path:"/dialogs",component:ae}),Object(M.jsx)(j.b,{path:"/profile/:userId?",component:ie}),Object(M.jsx)(j.b,{path:"/users",component:re}),Object(M.jsx)(j.b,{path:"/login",component:H}),Object(M.jsx)(j.b,{path:"/musick",component:ce})]})})}),Object(M.jsx)(ne,{})]}):Object(M.jsx)(P.a,{})}}]),n}(c.a.Component),oe=Object(f.d)(Object(h.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeThunk:function(){return function(e){var t=e(U());Promise.all([t]).then((function(){e({type:"APP/SET-INITIALIZED"})}))}}}),j.g)(se),ue=function(){return Object(M.jsx)(b.a,{children:Object(M.jsx)(h.a,{store:w,children:Object(M.jsx)(oe,{})})})};r.a.render(Object(M.jsx)(ue,{}),document.getElementById("root")),s()},38:function(e,t,n){e.exports={img:"Header_img__sBm02",header:"Header_header__1Qevl",search:"Header_search__uHOUV",button_s:"Header_button_s__JLIAS",loginBlock:"Header_loginBlock__u6BU7"}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},65:function(e,t,n){e.exports={error:"FormControls_error__eVcnq",errorText:"FormControls_errorText__14yRd",formControl:"FormControls_formControl__26roo"}},67:function(e,t,n){e.exports={img_avatar:"friends_img_avatar__2H_jF",name:"friends_name__15HEu"}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(5),r=n(92),i=(n(0),n(65)),c=n.n(i),s=n(1),o=function(e){var t=e.input,n=e.meta,i=e.children,o=Object(r.a)(e,["input","meta","children"]),u=n.error&&n.touched;return Object(s.jsxs)("div",{className:u?c.a.error:c.a.formControl,children:["input"===i?Object(s.jsx)("input",Object(a.a)(Object(a.a)({},t),o)):Object(s.jsx)("textarea",Object(a.a)(Object(a.a)({},t),o)),u&&Object(s.jsx)("div",{children:Object(s.jsxs)("span",{className:c.a.errorText,children:[n.error," "]})})]})}},85:function(e,t,n){"use strict";n(0);var a=n.p+"static/media/1487.707b7930.gif",r=n(1);t.a=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{style:{width:"100px"},src:a,alt:"Lodding"})})}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return b}));var a=n(37),r=n(5),i=n(18),c=n(24),s={postData:[{id:"1",message:"helo how are you",likesCount:12,img:"https://cdn5.vectorstock.com/i/1000x1000/65/59/hacker-with-computer-avatar-character-vector-14776559.jpg"},{id:"2",message:"Im learnin to React, React my first life)",likesCount:12,img:"https://cdn5.vectorstock.com/i/1000x1000/65/59/hacker-with-computer-avatar-character-vector-14776559.jpg"}],proFileHeader:{headerImg:{img:"https://image.freepik.com/free-photo/the-color-and-beauty-of-the-sky-at-sunset_51141-13.jpg"}},profileUsers:{aboutMe:"",contacts:{facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""},lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",userId:null,photos:{small:"",large:""}},status:""};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/ADD-POST":var n={id:Object(c.a)(),message:t.newMessage,likesCount:0,img:e.profileUsers.photos.small?e.profileUsers.photos.small:"https://cdn5.vectorstock.com/i/1000x1000/65/59/hacker-with-computer-avatar-character-vector-14776559.jpg"};return Object(r.a)(Object(r.a)({},e),{},{postData:[n].concat(Object(a.a)(e.postData))});case"PROFILE/SET-PROFILE-USER":return Object(r.a)(Object(r.a)({},e),{},{profileUsers:t.profile});case"PROFILE/SET-PROFILE-STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:t.status});case"PROFILE/DEL-POST-PROFILE":return Object(r.a)(Object(r.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.id}))});default:return e}}var u=function(e){return{type:"PROFILE/ADD-POST",newMessage:e}},l=function(e){return{type:"PROFILE/SET-PROFILE-STATUS",status:e}},d=function(e){return function(t){i.c.userIdAPI(e).then((function(e){t({type:"PROFILE/SET-PROFILE-USER",profile:e.data})}))}},j=function(e){return function(t){i.b.getStatus(e).then((function(e){t(l(e.data))}))}},b=function(e){return function(t){i.b.updateStatus(e).then((function(n){0===n.data.resultCode&&t(l(e))}))}}},93:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(37),r=n(5),i=n(24),c=function(e){return{type:"DIALOG/SEND-MESSAGE",value:e}},s={dialogs:[{name:"nick",id:Object(i.a)()},{name:"Leks",id:Object(i.a)()},{name:"Nastya",id:Object(i.a)()},{name:"Egor",id:Object(i.a)()}],message:[{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()},{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()},{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()},{message:"\u043a\u0430\u043a \u0434\u0435\u043b\u0430",id:Object(i.a)()}]};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOG/SEND-MESSAGE":var n=t.value;return Object(r.a)(Object(r.a)({},e),{},{message:[].concat(Object(a.a)(e.message),[{message:n,id:Object(i.a)()}])});default:return e}}}},[[284,1,2]]]);
//# sourceMappingURL=main.3fb60795.chunk.js.map